
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Discrete governing equations &#8212; Simple Navier-Stokes Solver 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script>window.MathJax = {"TeX": {"Macros": {"der": ["{\\frac{\\partial #1}{\\partial #2}}", 2], "dder": ["{\\frac{\\delta #1}{\\delta #2}}", 2], "mst": ["{\\gamma^{#1 #2}}", 2], "gx": ["{\\xi}"], "gy": ["{\\eta}"], "ux": ["{u_x}"], "uy": ["{u_y}"], "intrp": ["{\\overline{#1}^{#2}}", 2], "diffe": ["{\\delta_{#2} {#1}}", 2], "vat": ["{\\left. {#1} \\right|_{#2}}", 2], "ave": ["{\\left\\langle {#1} \\right\\rangle_{#2}}", 2], "pimm": ["i-1           "], "pim": ["i-\\frac{1}{2}"], "pic": ["i             "], "pip": ["i+\\frac{1}{2}"], "pipp": ["i+1           "], "pjmm": ["j-1           "], "pjm": ["j-\\frac{1}{2}"], "pjc": ["j             "], "pjp": ["j+\\frac{1}{2}"], "pjpp": ["j+1           "], "ximm": ["i-\\frac{1}{2}"], "xim": ["i             "], "xic": ["i+\\frac{1}{2}"], "xip": ["i+1           "], "xipp": ["i+\\frac{3}{2}"], "xjmm": ["j-1           "], "xjm": ["j-\\frac{1}{2}"], "xjc": ["j             "], "xjp": ["j+\\frac{1}{2}"], "xjpp": ["j+1           "], "yimm": ["i-1           "], "yim": ["i-\\frac{1}{2}"], "yic": ["i             "], "yip": ["i+\\frac{1}{2}"], "yipp": ["i+1           "], "yjmm": ["j-\\frac{1}{2}"], "yjm": ["j             "], "yjc": ["j+\\frac{1}{2}"], "yjp": ["j+1           "], "yjpp": ["j+\\frac{3}{2}"], "dintrpa": ["{\\overline{#1}^{#2}}", 2], "dintrpv": ["{\\widehat {#1}^{#2}}", 2], "dintrpu": ["{\\widetilde {#1}^{#2}}", 2]}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Basic operators" href="basic_operators.html" />
    <link rel="prev" title="Domain setup" href="../domain.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Simple Navier-Stokes Solver</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=NaokiHori&repo=SimpleNavierStokesSolver&type=true&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governing_equations/index.html">Governing equations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Numerical method</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../temporal_discretisation/index.html">Temporal discretisation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Spatial discretisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../implementation/index.html">Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../references.html">References</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Numerical method</a><ul>
  <li><a href="../index.html">Spatial discretisation</a><ul>
      <li>Previous: <a href="../domain.html" title="previous chapter">Domain setup</a></li>
      <li>Next: <a href="basic_operators.html" title="next chapter">Basic operators</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <span class="target" id="discrete-governing-equations"></span><section id="id1">
<h1>Discrete governing equations<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>The <a class="reference internal" href="../../temporal_discretisation/smac_method.html#smac-method"><span class="std std-ref">SMAC method</span></a> adopted in <a class="reference internal" href="../../temporal_discretisation/index.html#temporal-discretisation"><span class="std std-ref">the temporal discretisation</span></a> is a <em>de facto standard</em> to integrate the momentum balance in time while keeping the incompressibility constraint.
Spatial discretisations are, on the other hand, more flexible and scheme totally depends on the situation, on which property the user puts emphasis.
For instance, one can make schemes more accurate by adopting wider stencils properly.</p>
<p>In this project, we focus on the following two features:</p>
<ul>
<li><p>Simplicity, as the name of the project says</p>
<blockquote>
<div><p>We limit discussion to second-order-accurate central-difference schemes, where three points in one direction (itself and two neighbouring points) are used to evaluate differentiations.</p>
</div></blockquote>
</li>
<li><p>Keeping properties of the governing equations</p>
<blockquote>
<div><p>As reviewed in <a class="reference internal" href="../../../governing_equations/index.html#governing-equations"><span class="std std-ref">the governing equations</span></a>, there are several important features which the governing equations hold in the continuous domain.</p>
<ol class="arabic simple">
<li><p>Advective terms do not alter the net amount of quantity (e.g., momentum, kinetic energy).</p></li>
<li><p>Dissipative terms reduce the total amount of quantity</p></li>
<li><p><span class="math notranslate nohighlight">\(K \equiv \int k dV\)</span> is conserved if the mass and momentum balances are satisfied (inviscid limit)</p></li>
<li><p><span class="math notranslate nohighlight">\(H \equiv \int h dV\)</span> is conserved if the mass and thermal energy balances are satisfied (inviscid limit)</p></li>
<li><p>Several ways to compute Nusselt number give an identical result (in a statistical sense).</p></li>
</ol>
<p>We try to mimic these properties after being discretised.</p>
</div></blockquote>
</li>
</ul>
<p>Based on these features, in this section, we aim to derive <em>discrete</em> governing equations <a class="reference internal" href="../../../implementation/index.html#implementation"><span class="std std-ref">which are implemented in this project</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In short, the conclusive scheme is the so-called energy-conserving scheme.
Usually, energy-conserving scheme is derived for governing equations in strong conservation forms.
Namely, the equations are once mapped to a general coordinate system where grid sizes are uniform in the whole domain, in which the equations are discretised (e.g., Kajishima, Trans. <em>JSME</em> (<strong>65-633, 1607</strong>), 1999 (in Japanese)).</p>
<p>Although it is a consistent and powerful way, it tends to be fairly complicated, which can be found in the appendix.
In this section, we try to deduce the same conclusion without using this projection, but simply by focusing on the conservation properties of mass, momentum, and energy.</p>
</div>
</section>
<section id="table-of-contents">
<h2>Table of contents<a class="headerlink" href="#table-of-contents" title="Permalink to this heading">¶</a></h2>
<p>This section is organised as follows.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="basic_operators.html">Basic operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="mass_balance_and_pressure_equation.html">Mass balance and pressure equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="momentum_balance_and_quadratic_quantity.html">Momentum balance and quadratic quantity</a></li>
<li class="toctree-l1"><a class="reference internal" href="thermal_energy_balance_and_quadratic_quantity.html">Thermal energy balance and quadratic quantity</a></li>
<li class="toctree-l1"><a class="reference internal" href="nusselt_number_relations.html">Nusselt number relations</a></li>
<li class="toctree-l1"><a class="reference internal" href="inconsistent_results.html">Inconsistent results</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_general_coordinate.html">Appendix: General coordinate system and energy-conserving scheme</a></li>
</ul>
</div>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this heading">¶</a></h2>
<p>The following equations keep the properties of the original governing equations and are implemented in the code.
See <a class="reference internal" href="basic_operators.html#basic-operators"><span class="std std-ref">basic operators</span></a> for details of the used symbols.</p>
<p>Mass balance at <span class="math notranslate nohighlight">\(\left( \pic, \pjc \right)\)</span>:</p>
<div class="math notranslate nohighlight">
\[\dder{\ux}{x}
+
\dder{\uy}{y}
=
0,\]</div>
<p>which is satisfied in <a class="reference internal" href="../../../implementation/fluid/correct_velocity.html#fluid-correct-velocity"><span class="std std-ref">src/fluid/correct_velocity.c</span></a>.</p>
<p>Momentum balance in <span class="math notranslate nohighlight">\(x\)</span> direction at <span class="math notranslate nohighlight">\(\left( \xic, \xjc \right)\)</span>:</p>
<div class="math notranslate nohighlight">
\[\der{\ux}{t}
+
\dintrpv{
   \dintrpa{\ux}{x}
   \dder{\ux}{x}
}{x}
+
\dintrpa{
   \dintrpv{\uy}{x}
   \dder{\ux}{y}
}{y}
=
-\dder{p}{x}
+
\frac{\sqrt{Pr}}{\sqrt{Ra}} \left\{
   \dder{}{x} \left( \dder{\ux}{x} \right)
   +
   \dder{}{y} \left( \dder{\ux}{y} \right)
\right\}
+
\dintrpa{T}{x},\]</div>
<p>which is implemented in <a class="reference internal" href="../../../implementation/fluid/update_velocity.html#fluid-update-velocity"><span class="std std-ref">src/fluid/update_velocity.c</span></a>.</p>
<p>Momentum balance in <span class="math notranslate nohighlight">\(y\)</span> direction at <span class="math notranslate nohighlight">\(\left( \yic, \yjc \right)\)</span>:</p>
<div class="math notranslate nohighlight">
\[\der{\uy}{t}
+
\dintrpv{
   \dintrpa{\ux}{y}
   \dder{\uy}{x}
}{x}
+
\dintrpa{
   \dintrpa{\uy}{y}
   \dder{\uy}{y}
}{y}
=
-\dder{p}{y}
+
\frac{\sqrt{Pr}}{\sqrt{Ra}} \left\{
   \dder{}{x} \left( \dder{\uy}{x} \right)
   +
   \dder{}{y} \left( \dder{\uy}{y} \right)
\right\},\]</div>
<p>which is implemented in <a class="reference internal" href="../../../implementation/fluid/update_velocity.html#fluid-update-velocity"><span class="std std-ref">src/fluid/update_velocity.c</span></a>.</p>
<p>Internal energy balance at <span class="math notranslate nohighlight">\(\left( \pic, \pjc \right)\)</span>:</p>
<div class="math notranslate nohighlight">
\[\der{T}{t}
+
\dintrpv{
   \ux
   \dder{T}{x}
}{x}
+
\dintrpa{
   \uy
   \dder{T}{y}
}{y}
=
\frac{1}{\sqrt{Pr} \sqrt{Ra}} \left\{
   \dder{}{x} \left( \dder{T}{x} \right)
   +
   \dder{}{y} \left( \dder{T}{y} \right)
\right\},\]</div>
<p>which is implemented in <a class="reference internal" href="../../../implementation/temperature/update.html#temperature-update"><span class="std std-ref">src/temperature/update.c</span></a>.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2022, Naoki Hori.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/numerical_method/spatial_discretisation/discrete_governing_equations/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>